#!/bin/bash

## Script to start RabbitMQ on non-root environment
## http://www.rabbitmq.com/man/rabbitmq-server.1.man.html

mkdir -p ~/local/var/rabbitmq/mnesia
export RABBITMQ_MNESIA_BASE=~/local/var/rabbitmq/mnesia
#Defaults to /var/lib/rabbitmq/mnesia. Set this to the directory where Mnesia database files should be placed.
mkdir -p ~/local/var/rabbitmq/log
export RABBITMQ_LOG_BASE=~/local/var/rabbitmq/log
#Defaults to /var/log/rabbitmq. Log files generated by the server will be placed in this directory.
#RABBITMQ_NODENAME
#Defaults to rabbit. This can be useful if you want to run more than one node per machine - RABBITMQ_NODENAME should be unique per erlang-node-and-machine combination. See the clustering on a single machine guide for details.
#RABBITMQ_NODE_IP_ADDRESS
#By default RabbitMQ will bind to all interfaces, on IPv4 and IPv6 if available. Set this if you only want to bind to one network interface or address family.
#RABBITMQ_NODE_PORT
#Defaults to 5672.
~/local/sbin/rabbitmq-server &
